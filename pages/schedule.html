<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- favicon 적용 -->
    <link
      rel="icon"
      type="image/png"
      href="../assets/favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="../assets/favicon/favicon.svg"
    />
    <link rel="shortcut icon" href="../assets/favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../assets/favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="../assets/favicon/site.webmanifest" />
    <title>Pick & Go - 여행 일정</title>
    <!-- 부트스트랩 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Google Web Font 의존성 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Jua&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <!-- AOS CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"
    />
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/schedule.css" />
  </head>
  <body>
    <div class="screen-container scroll-container">
      <!-- 네비게이션 바 -->
      <div class="menu">
        <nav
          class="navbar navbar-expand-md navbar-light bg-light custom-navbar"
        >
          <div class="container-fluid">
            <!-- 좌측: 로고 -->
            <a class="navbar-brand ms-3" href="../index.html">
              <img src="../assets/logo/logo.png" alt="로고" class="logo" />
            </a>

            <!-- 토글 버튼 (화면이 작을 때 메뉴 버튼으로 변경) -->
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- 우측: 랭킹 보기 -->
            <div
              class="collapse navbar-collapse justify-content-end"
              id="navbarNav"
            >
              <ul class="navbar-nav me-3">
                <li class="nav-item">
                  <a class="nav-link" href="./theme.html">테마 선택</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
      <!-- 새로운 요소 추가 -->

      <!-- 메인 컨테이너 -->
      <div class="container mt-5">
        <!-- 상단 영역: 좌측(여행 브이로그), 우측(AI 추천 일정 카드) -->
        <div class="row mb-5">
          <!-- 여행 브이로그 (좌측) -->
          <div class="col-md-6" id="vlogSection">
            <h2 class="text-left">여행 브이로그</h2>
            <div
              id="vlogCarousel"
              class="carousel slide carousel-vlog"
              data-bs-ride="false"
              data-bs-interval="false"
            >
              <!-- carousel 아이템 컨테이너 -->
              <div class="carousel-inner carousel-container">
                <!-- 동적으로 플레이어 슬라이드가 추가됩니다. -->
                <div id="spinner" class="carousel-spinner">
                  <div
                    class="spinner-border"
                    style="color: #000000"
                    role="status"
                  ></div>
                  <p
                    style="
                      /* margin-top: 10px; */
                      font-weight: bold;
                      color: #000000;
                    "
                  >
                    브이로그 검색 중...
                  </p>
                </div>
              </div>

              <!-- 이전/다음 버튼 -->
              <button
                class="carousel-control-prev carousel-control-margin"
                type="button"
                data-bs-target="#vlogCarousel"
                data-bs-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">이전</span>
              </button>
              <button
                class="carousel-control-next carousel-control-margin"
                type="button"
                data-bs-target="#vlogCarousel"
                data-bs-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">다음</span>
              </button>
            </div>
          </div>

          <!-- AI 추천 여행 일정 (우측, 카드 형식) -->
          <div class="col-md-6" id="aiSchedule" class="ai-schedule">
            <div class="ai-schedule-header">
              <h2 class="text-left align-text-bottom">AI 추천 여행 일정</h2>
              <button type="button" class="btn btn-sm ai-schedule-copy-button">
                <img src="../assets/icon/copy-icon.png" alt="" />
              </button>
            </div>

            <div class="ai-schedule-scroll-area"></div>
          </div>
        </div>

        <!-- 여행 후기 (하단) -->
        <div class="row mb-5" id="reviewSection">
          <div class="col-12">
            <h2 class="text-center mb-4">여행 후기</h2>
            <!-- 후기 목록 (스크롤) -->
            <div
              class="row review-scroll-area mb-4 review-cards"
              data-aos="fade-up"
            >
              <!-- 추가 여행 후기 카드 작성 가능 -->
            </div>
            <!-- 후기 작성 폼 -->
            <div class="review" data-aos="fade-up">
              <h2 class="text-center mb-4">후기 작성하기</h2>
              <div class="card p-3">
                <h4 class="mb-3">후기 작성하기</h4>
                <form>
                  <div class="mb-3">
                    <label for="reviewImage" class="form-label"
                      >이미지 업로드</label
                    >
                    <input
                      class="form-control"
                      type="file"
                      id="reviewImage"
                      accept="image/*"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="reviewTitle" class="form-label"
                      >후기 제목</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="reviewTitle"
                      placeholder="제목을 입력하세요."
                    />
                  </div>
                  <div class="mb-3">
                    <label for="reviewContent" class="form-label"
                      >후기 내용</label
                    >
                    <textarea
                      class="form-control"
                      id="reviewContent"
                      rows="3"
                      placeholder="자세한 후기를 남겨주세요."
                    ></textarea>
                  </div>
                  <button type="submit" class="btn btn-upload">
                    글 업로드
                  </button>
                </form>
                <div id="uploadMessage"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Toast 메시지 -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div
        id="toastControl"
        class="toast align-items-center"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="d-flex">
          <div class="toast-body"></div>
          <button
            type="button"
            class="btn-close me-2 m-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
      </div>
    </div>

    <!-- 부트스트랩 JS -->
    <!-- AOS JS (body 태그 닫기 전에 추가) -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- 수정된 schedule.js -->
    <script src="../js/schedule.js"></script>
    <script src="../js/schedule-ai.js"></script>
    <script type="module" src="../js/schedule-review.js"></script>
    <script>
      AOS.init({
        duration: 800, // 애니메이션 지속 시간 (밀리초)
        easing: "ease-in-out", // 이징 효과
        once: false, // 스크롤 시마다 애니메이션 실행
        mirror: true, // 요소가 뷰포트에서 벗어나면 반대 애니메이션 실행
      });
    </script>
    <script src="https://www.youtube.com/iframe_api"></script>
  </body>
</html>
